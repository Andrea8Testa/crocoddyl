
SET(${PROJECT_NAME}_BENCHMARK
  unicycle
  lqr
  )

FOREACH(BENCHMARK_NAME ${${PROJECT_NAME}_BENCHMARK})
  ADD_EXECUTABLE(${BENCHMARK_NAME} ${BENCHMARK_NAME}.cpp)
  PKG_CONFIG_USE_DEPENDENCY(${BENCHMARK_NAME} eigen3)
  TARGET_LINK_LIBRARIES(${BENCHMARK_NAME} ${PROJECT_NAME})
ENDFOREACH(BENCHMARK_NAME ${${PROJECT_NAME}_BENCHMARK})

SET(${PROJECT_NAME}_BENCHMARK_PYTHON
  hyq
  lqr
  talos_arm
  talos_legs
  unicycle
  )

FOREACH(benchmark ${${PROJECT_NAME}_BENCHMARK_PYTHON})
  PYTHON_BUILD(. "${benchmark}.py")
  ADD_CUSTOM_TARGET("benchmark-${benchmark}"
    ${CMAKE_COMMAND} -E env PYTHONPATH=${PROJECT_BINARY_DIR}/bindings/python
    ${PYTHON_EXECUTABLE} -c "from ${benchmark} import *")
ENDFOREACH(benchmark ${${PROJECT_NAME}_BENCHMARK_PYTHON})
